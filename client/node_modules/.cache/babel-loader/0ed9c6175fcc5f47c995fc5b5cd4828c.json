{"ast":null,"code":"import axios from \"axios\";\nimport { setAlert, setLoader, setRedirect } from \"./common\";\nimport { SAVE_FEEDBACK_REQUESTS, SAVE_FEEDBACK_LIST, REMOVE_FEEDBACK, REMOVE_FEEDBACK_REQUEST } from \"./types\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport { host } from \"../config\"; // fetch all feedback request List\n\nexport const getFeedbackRequests = () => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.get(`${host}api/feedbackrequests`);\n    dispatch({\n      type: SAVE_FEEDBACK_REQUESTS,\n      payload: res.data\n    });\n    dispatch(setRedirect(\"\"));\n    dispatch(setLoader(false));\n  } catch (err) {\n    const response = err.response;\n\n    if (response && response.errors) {\n      const {\n        errors = []\n      } = response;\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n\n    dispatch(setRedirect(\"\"));\n    dispatch(setLoader(false));\n  }\n}; // Request a feedbacck\n\nexport const requestFeedBack = ({\n  reqby,\n  reqfrom,\n  reqfor\n}) => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n\n  const body = JSON.stringify({\n    reqby,\n    reqfrom,\n    reqfor\n  });\n\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.post(`${host}api/feedbackrequests`, body);\n\n    if (res.data.success) {\n      dispatch(setAlert(\"Feedback request generated\", \"success\"));\n    }\n\n    dispatch(setLoader(false));\n  } catch (err) {\n    const response = err.response;\n\n    if (response && response.errors) {\n      const {\n        errors = []\n      } = response;\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n\n    dispatch(setLoader(false));\n  }\n}; // fetch all feedback List\n\nexport const getFeedbackList = empId => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.get(`${host}api/feedback/${empId}`);\n    dispatch({\n      type: SAVE_FEEDBACK_LIST,\n      payload: res.data\n    });\n    dispatch(setLoader(false));\n  } catch (err) {\n    const response = err.response;\n\n    if (response && response.errors) {\n      const {\n        errors = []\n      } = response;\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n\n    dispatch(setLoader(false));\n  }\n}; // Submit feedback\n\nexport const submitFeedback = (summary, employee, feedbackId = \"\", reqId = \"\", overAllPerformance = 0) => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n\n  const body = JSON.stringify({\n    reqId,\n    feedbackId,\n    employee,\n    summary,\n    overAllPerformance\n  });\n\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.post(`${host}api/feedback`, body);\n\n    if (res.data.success) {\n      dispatch({\n        type: SAVE_FEEDBACK_LIST,\n        payload: res.data\n      });\n\n      if (reqId) {\n        dispatch(setRedirect(\"/dashboard\"));\n      }\n\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback submited`, \"success\"));\n    }\n\n    dispatch(setLoader(false));\n\n    if (reqId) {\n      dispatch(setRedirect(\"/dashboard\"));\n    }\n\n    return dispatch(setAlert(`Something went wrong!! please try later`, \"danger\"));\n  } catch (err) {\n    const response = err.response;\n\n    if (response && response.errors) {\n      const {\n        errors = []\n      } = response;\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n\n    dispatch(setLoader(false));\n  }\n}; // remove  feedback\n\nexport const removeFeedback = id => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n\n  const body = JSON.stringify({\n    id\n  });\n\n  try {\n    dispatch(setLoader(true));\n    const res = await axios({\n      method: \"DELETE\",\n      url: `${host}api/feedback`,\n      data: body,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n\n    if (res.data.success) {\n      dispatch({\n        type: REMOVE_FEEDBACK,\n        payload: id\n      });\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback removed`, \"success\"));\n    } else {\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback Not removed`, \"danger\"));\n    }\n  } catch (err) {\n    const response = err.response;\n\n    if (response && response.errors) {\n      const {\n        errors = []\n      } = response;\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n\n    dispatch(setLoader(false));\n  }\n}; //reject a feedback\n\nexport const rejectReview = (rejectionReason, reqId) => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n\n  const body = JSON.stringify({\n    reqId,\n    rejectionReason\n  });\n\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.post(`${host}api/feedbackrequests/reject`, body);\n\n    if (res.data.success) {\n      dispatch({\n        type: REMOVE_FEEDBACK_REQUEST,\n        payload: reqId\n      });\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback request rejected`, \"success\"));\n    }\n\n    dispatch(setLoader(false));\n    return dispatch(setAlert(`Something went wrong!! please try later`, \"danger\"));\n  } catch (err) {\n    const response = err.response;\n\n    if (response && response.errors) {\n      const {\n        errors = []\n      } = response;\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n\n    dispatch(setLoader(false));\n  }\n};","map":{"version":3,"sources":["/Users/saupanch/workspace/FullStackEngineerChallenge/client/src/actions/feedbacks.js"],"names":["axios","setAlert","setLoader","setRedirect","SAVE_FEEDBACK_REQUESTS","SAVE_FEEDBACK_LIST","REMOVE_FEEDBACK","REMOVE_FEEDBACK_REQUEST","setAuthToken","host","getFeedbackRequests","dispatch","localStorage","token","res","get","type","payload","data","err","response","errors","forEach","error","msg","message","requestFeedBack","reqby","reqfrom","reqfor","body","JSON","stringify","post","success","getFeedbackList","empId","submitFeedback","summary","employee","feedbackId","reqId","overAllPerformance","removeFeedback","id","method","url","headers","rejectReview","rejectionReason"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { setAlert, setLoader, setRedirect } from \"./common\";\nimport {\n  SAVE_FEEDBACK_REQUESTS,\n  SAVE_FEEDBACK_LIST,\n  REMOVE_FEEDBACK,\n  REMOVE_FEEDBACK_REQUEST,\n} from \"./types\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport { host } from \"../config\";\n\n// fetch all feedback request List\nexport const getFeedbackRequests = () => async (dispatch) => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.get(`${host}api/feedbackrequests`);\n    dispatch({\n      type: SAVE_FEEDBACK_REQUESTS,\n      payload: res.data,\n    });\n    dispatch(setRedirect(\"\"));\n    dispatch(setLoader(false));\n  } catch (err) {\n    const response = err.response;\n    if (response && response.errors) {\n      const { errors = [] } = response;\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n    dispatch(setRedirect(\"\"));\n    dispatch(setLoader(false));\n  }\n};\n\n// Request a feedbacck\nexport const requestFeedBack = ({ reqby, reqfrom, reqfor }) => async (\n  dispatch\n) => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n  const body = JSON.stringify({ reqby, reqfrom, reqfor });\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.post(`${host}api/feedbackrequests`, body);\n    if (res.data.success) {\n      dispatch(setAlert(\"Feedback request generated\", \"success\"));\n    }\n    dispatch(setLoader(false));\n  } catch (err) {\n    const response = err.response;\n    if (response && response.errors) {\n      const { errors = [] } = response;\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n    dispatch(setLoader(false));\n  }\n};\n\n// fetch all feedback List\nexport const getFeedbackList = (empId) => async (dispatch) => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.get(`${host}api/feedback/${empId}`);\n    dispatch({\n      type: SAVE_FEEDBACK_LIST,\n      payload: res.data,\n    });\n    dispatch(setLoader(false));\n  } catch (err) {\n    const response = err.response;\n    if (response && response.errors) {\n      const { errors = [] } = response;\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n    dispatch(setLoader(false));\n  }\n};\n\n// Submit feedback\nexport const submitFeedback = (\n  summary,\n  employee,\n  feedbackId = \"\",\n  reqId = \"\",\n  overAllPerformance = 0\n) => async (dispatch) => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n  const body = JSON.stringify({\n    reqId,\n    feedbackId,\n    employee,\n    summary,\n    overAllPerformance,\n  });\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.post(`${host}api/feedback`, body);\n    if (res.data.success) {\n      dispatch({\n        type: SAVE_FEEDBACK_LIST,\n        payload: res.data,\n      });\n      if (reqId) {\n        dispatch(setRedirect(\"/dashboard\"));\n      }\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback submited`, \"success\"));\n    }\n    dispatch(setLoader(false));\n    if (reqId) {\n      dispatch(setRedirect(\"/dashboard\"));\n    }\n    return dispatch(\n      setAlert(`Something went wrong!! please try later`, \"danger\")\n    );\n  } catch (err) {\n    const response = err.response;\n    if (response && response.errors) {\n      const { errors = [] } = response;\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n    dispatch(setLoader(false));\n  }\n};\n// remove  feedback\nexport const removeFeedback = (id) => async (dispatch) => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n  const body = JSON.stringify({\n    id,\n  });\n  try {\n    dispatch(setLoader(true));\n    const res = await axios({\n      method: \"DELETE\",\n      url: `${host}api/feedback`,\n      data: body,\n      headers: { \"Content-Type\": \"application/json\" },\n    });\n    if (res.data.success) {\n      dispatch({\n        type: REMOVE_FEEDBACK,\n        payload: id,\n      });\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback removed`, \"success\"));\n    } else {\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback Not removed`, \"danger\"));\n    }\n  } catch (err) {\n    const response = err.response;\n    if (response && response.errors) {\n      const { errors = [] } = response;\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n    dispatch(setLoader(false));\n  }\n};\n\n//reject a feedback\n\nexport const rejectReview = (rejectionReason, reqId) => async (dispatch) => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n  }\n  const body = JSON.stringify({\n    reqId,\n    rejectionReason,\n  });\n  try {\n    dispatch(setLoader(true));\n    const res = await axios.post(`${host}api/feedbackrequests/reject`, body);\n    if (res.data.success) {\n      dispatch({\n        type: REMOVE_FEEDBACK_REQUEST,\n        payload: reqId,\n      });\n      dispatch(setLoader(false));\n      return dispatch(setAlert(`Feedback request rejected`, \"success\"));\n    }\n    dispatch(setLoader(false));\n    return dispatch(\n      setAlert(`Something went wrong!! please try later`, \"danger\")\n    );\n  } catch (err) {\n    const response = err.response;\n    if (response && response.errors) {\n      const { errors = [] } = response;\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    } else {\n      dispatch(setAlert(err.message, \"danger\"));\n    }\n    dispatch(setLoader(false));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}
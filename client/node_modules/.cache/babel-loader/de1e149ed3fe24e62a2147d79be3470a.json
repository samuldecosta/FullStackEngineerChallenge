{"ast":null,"code":"var _jsxFileName = \"/Users/saupanch/workspace/FullStackEngineerChallenge/client/src/components/common/FeedbackForm/index.js\";\nimport React, { useState, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { setAlert } from \"../../../actions/common\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nfunction FeedbackForm({\n  className,\n  storedFeedback,\n  maxLength,\n  placeholder,\n  submitFeedback,\n  removeFeedback,\n  employeeId,\n  submitButtonText,\n  feedbackRequestId,\n  redirectTo,\n  setAlert\n}) {\n  const {\n    summary: storedSummary = \"\",\n    _id = \"\",\n    date,\n    reviewerName\n  } = storedFeedback;\n  const [formData, setFormData] = useState({\n    summary: storedSummary,\n    isEditMode: !storedSummary\n  });\n  const {\n    summary,\n    isEditMode\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    summary: e.target.value\n  });\n\n  const editFeedback = e => setFormData({ ...formData,\n    isEditMode: true\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (summary) {\n      submitFeedback(summary, employeeId, _id, feedbackRequestId);\n\n      if (_id) {\n        setFormData({ ...formData,\n          isEditMode: false\n        });\n      } else {\n        setFormData({ ...formData,\n          summary: \"\"\n        });\n      }\n    } else {\n      setAlert(\"Summary can not be blank\", \"danger\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, redirectTo && /*#__PURE__*/React.createElement(Redirect, {\n    to: redirectTo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 22\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `feedback-form ${className}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, isEditMode ? /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"feedback-summary-input \",\n    value: summary,\n    onChange: onChange,\n    maxLength: maxLength,\n    placeholder: placeholder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn pull-right\",\n    value: submitButtonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"reviewer-name b\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Reviewed by: \", reviewerName), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"user-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \" On (\", date, \")\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, summary), summary && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn\",\n    onClick: () => removeFeedback(_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  }, \"remove\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn\",\n    onClick: editFeedback,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, \"update feedback\"))))));\n}\n\nFeedbackForm.propTypes = {\n  maxLength: PropTypes.string,\n  submitFeedback: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  storedFeedback: PropTypes.object,\n  removeFeedback: PropTypes.func,\n  employeeId: PropTypes.string.isRequired,\n  submitButtonText: PropTypes.string,\n  feedbackRequestId: PropTypes.string,\n  setAlert: PropTypes.func.isRequired\n};\nFeedbackForm.defaultProps = {\n  placeholder: \"Please enter feedback summary\",\n  maxLength: \"10000\",\n  storedFeedback: {\n    summary: \"\"\n  },\n  submitButtonText: \"submit\",\n  removeFeedback: () => {},\n  feedbackRequestId: \"\"\n};\n\nconst mapStateToProps = state => ({\n  redirectTo: state.common.redirectTo\n});\n\nexport default connect(mapStateToProps, {\n  setAlert\n})(FeedbackForm);","map":{"version":3,"sources":["/Users/saupanch/workspace/FullStackEngineerChallenge/client/src/components/common/FeedbackForm/index.js"],"names":["React","useState","Fragment","PropTypes","setAlert","Redirect","connect","FeedbackForm","className","storedFeedback","maxLength","placeholder","submitFeedback","removeFeedback","employeeId","submitButtonText","feedbackRequestId","redirectTo","summary","storedSummary","_id","date","reviewerName","formData","setFormData","isEditMode","onChange","e","target","value","editFeedback","onSubmit","preventDefault","propTypes","string","func","isRequired","object","defaultProps","mapStateToProps","state","common"],"mappings":"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","sourcesContent":["import React, { useState, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { setAlert } from \"../../../actions/common\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nfunction FeedbackForm({\n  className,\n  storedFeedback,\n  maxLength,\n  placeholder,\n  submitFeedback,\n  removeFeedback,\n  employeeId,\n  submitButtonText,\n  feedbackRequestId,\n  redirectTo,\n  setAlert,\n}) {\n  const {\n    summary: storedSummary = \"\",\n    _id = \"\",\n    date,\n    reviewerName,\n  } = storedFeedback;\n  const [formData, setFormData] = useState({\n    summary: storedSummary,\n    isEditMode: !storedSummary,\n  });\n\n  const { summary, isEditMode } = formData;\n\n  const onChange = (e) => setFormData({ ...formData, summary: e.target.value });\n  const editFeedback = (e) => setFormData({ ...formData, isEditMode: true });\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (summary) {\n      submitFeedback(summary, employeeId, _id, feedbackRequestId);\n      if (_id) {\n        setFormData({ ...formData, isEditMode: false });\n      } else {\n        setFormData({ ...formData, summary: \"\" });\n      }\n    } else {\n      setAlert(\"Summary can not be blank\", \"danger\");\n    }\n  };\n\n  return (\n    <Fragment>\n      {redirectTo && <Redirect to={redirectTo} />}\n      <div className={`feedback-form ${className}`}>\n        <form className=\"form\" onSubmit={onSubmit}>\n          {isEditMode ? (\n            <Fragment>\n              <textarea\n                className=\"feedback-summary-input \"\n                value={summary}\n                onChange={onChange}\n                maxLength={maxLength}\n                placeholder={placeholder}\n              />\n              <div className=\"submit-wrapper\">\n                <input\n                  type=\"submit\"\n                  className=\"btn pull-right\"\n                  value={submitButtonText}\n                />\n              </div>\n            </Fragment>\n          ) : (\n            <div className=\"summary-section\">\n              <p className=\"reviewer-name b\">\n                <span className=\"name\">Reviewed by: {reviewerName}</span>\n                <span className=\"user-date\"> On ({date})</span>\n              </p>\n              <p className=\"message\">{summary}</p>\n              {summary && (\n                <div className=\"pull-right\">\n                  <button\n                    type=\"button\"\n                    className=\"btn\"\n                    onClick={() => removeFeedback(_id)}\n                  >\n                    remove\n                  </button>\n                  <button type=\"button\" className=\"btn\" onClick={editFeedback}>\n                    update feedback\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </form>\n      </div>\n    </Fragment>\n  );\n}\n\nFeedbackForm.propTypes = {\n  maxLength: PropTypes.string,\n  submitFeedback: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  storedFeedback: PropTypes.object,\n  removeFeedback: PropTypes.func,\n  employeeId: PropTypes.string.isRequired,\n  submitButtonText: PropTypes.string,\n  feedbackRequestId: PropTypes.string,\n  setAlert: PropTypes.func.isRequired,\n};\n\nFeedbackForm.defaultProps = {\n  placeholder: \"Please enter feedback summary\",\n  maxLength: \"10000\",\n  storedFeedback: {\n    summary: \"\",\n  },\n  submitButtonText: \"submit\",\n  removeFeedback: () => {},\n  feedbackRequestId: \"\",\n};\nconst mapStateToProps = (state) => ({\n  redirectTo: state.common.redirectTo,\n});\nexport default connect(mapStateToProps, { setAlert })(FeedbackForm);\n"]},"metadata":{},"sourceType":"module"}